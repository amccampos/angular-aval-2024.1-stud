(self.webpackChunkangular_aval_2024_1=self.webpackChunkangular_aval_2024_1||[]).push([[148],{"./src/app/components/match.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>MatchComponent});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_team_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/components/team.component.ts"),_services_match_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/services/match.service.ts");let MatchComponent=class MatchComponent{constructor(){this.matches=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_services_match_service__WEBPACK_IMPORTED_MODULE_1__.T),this.teamA=_angular_core__WEBPACK_IMPORTED_MODULE_2__.input.required(),this.teamB=_angular_core__WEBPACK_IMPORTED_MODULE_2__.input.required(),this.match=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.computed)((()=>this.matches.getMatch(this.teamA(),this.teamB())))}updateScore(index,score){const match=this.match();match&&(match.score??=[0,0],match.score[index]=parseInt(score),this.matches.updateScore(match))}static#_=this.propDecorators={teamA:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input,args:[{isSignal:!0,alias:"teamA",required:!0,transform:void 0}]}],teamB:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input,args:[{isSignal:!0,alias:"teamB",required:!0,transform:void 0}]}]}};MatchComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Component)({selector:"match",standalone:!0,imports:[_team_component__WEBPACK_IMPORTED_MODULE_0__.X],template:'\n    @if (match()) {\n      <div class="flex align-center m-3">\n        <team [id]="teamA()" flag="right"/>\n        <input #scoreA type="text" maxlength="2"\n          class="mx-5 small t-center b-none b-bottom"\n          [value]="match()?.score?.[0]"\n          (change)="updateScore(0, scoreA.value)"\n        />\n        X\n        <input #scoreB type="text" maxlength="2"\n          class="mx-5 small t-center b-none b-bottom"\n          [value]="match()?.score?.[1]"\n          (change)="updateScore(1, scoreB.value)"\n        />\n        <team [id]="teamB()" flag="left"/>\n      </div>\n    }\n    @else {\n       <p>Partida inválida</p>\n    }\n  '})],MatchComponent)},"./src/app/components/ranking.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>RankingComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),match_service=__webpack_require__("./src/app/services/match.service.ts"),team_service=__webpack_require__("./src/app/services/team.service.ts");let RankingService=class RankingService{constructor(){this.matchesService=(0,core.inject)(match_service.T),this.teamsService=(0,core.inject)(team_service.n),this.sorted=(0,core.computed)((()=>{const dic=new Map;return this.teamsService.teams.forEach((team=>dic.set(team.id,{pt:0,jg:0,vi:0,em:0,de:0,gp:0,gc:0,sg:0}))),this.matchesService.matches().forEach((match=>{if(match.score){const teamA=dic.get(match.teams[0]),teamB=dic.get(match.teams[1]);teamA&&teamB&&(match.score[0]===match.score[1]?(this.draw(teamA,match.score[0]),this.draw(teamB,match.score[0])):match.score[0]>match.score[1]?(this.win(teamA,match.score[0],match.score[1]),this.lose(teamB,match.score[1],match.score[0])):(this.win(teamB,match.score[1],match.score[0]),this.lose(teamA,match.score[0],match.score[1])))}})),[...dic].sort(this.compareTeams)}))}win(team,gp,gc){team.pt+=3,team.jg++,team.vi++,team.gp+=gp,team.gc+=gc,team.sg=team.gp-team.gc}lose(team,gp,gc){team.jg++,team.de++,team.gp+=gp,team.gc+=gc,team.sg=team.gp-team.gc}draw(team,goals){team.pt++,team.jg++,team.em++,team.gp+=goals,team.gc+=goals}compareTeams(a,b){const teamA=a[1],teamB=b[1];return teamA.pt!==teamB.pt?teamB.pt-teamA.pt:teamA.sg!==teamB.sg?teamB.sg-teamA.sg:teamA.gp!==teamB.gp?teamB.gp-teamA.gp:Math.random()-.5}};RankingService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],RankingService);var team_component=__webpack_require__("./src/app/components/team.component.ts");let RankingComponent=class RankingComponent{constructor(){this.ranking=(0,core.inject)(RankingService),this.sorted=this.ranking.sorted}};RankingComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"ranking",standalone:!0,imports:[team_component.X],template:'\n    <div>\n      <h2>Classificação</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Equipe</th>\n            <th>Pt</th>\n            <th>Jg</th>\n            <th>Vi</th>\n            <th>Em</th>\n            <th>De</th>\n            <th>Gp</th>\n            <th>Gc</th>\n            <th>Sg</th>\n          </tr>\n        </thead>\n        <tbody>\n          @for (elm of sorted(); track elm[0]) {\n            <tr class="t-right">\n              <td>{{ $index + 1 }}</td>\n              <td><team [id]="elm[0]" flag="left" /></td>\n              <td>{{ elm[1].pt }}</td>\n              <td>{{ elm[1].jg }}</td>\n              <td>{{ elm[1].vi }}</td>\n              <td>{{ elm[1].em }}</td>\n              <td>{{ elm[1].de }}</td>\n              <td>{{ elm[1].gp }}</td>\n              <td>{{ elm[1].gc }}</td>\n              <td>{{ elm[1].sg }}</td>\n            </tr>\n          }\n        </tbody>\n      </table>\n    </div>\n  '})],RankingComponent)},"./src/app/components/round.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>RoundComponent});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_match_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/components/match.component.ts"),_services_match_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/services/match.service.ts");let RoundComponent=class RoundComponent{constructor(){this.matches=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_services_match_service__WEBPACK_IMPORTED_MODULE_1__.T),this.num=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.input)(1)}static#_=this.propDecorators={num:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input,args:[{isSignal:!0,alias:"num",required:!1,transform:void 0}]}]}};RoundComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Component)({selector:"round",standalone:!0,imports:[_match_component__WEBPACK_IMPORTED_MODULE_0__.v],template:'\n    <div class="flex col align-center">\n      @for(match of matches.getRoundMatches(num()); track match.teams) {\n        <match [teamA]="match.teams[0]" [teamB]="match.teams[1]" />\n      }\n    </div>\n  '})],RoundComponent)},"./src/app/components/rounds.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>RoundsComponent});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_round_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/components/round.component.ts");let RoundsComponent=class RoundsComponent{constructor(){this.max=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.input)(1),this.round=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.signal)(1)}dec(){this.round()>1&&this.round.update((v=>v-1))}inc(){this.round()<this.max()&&this.round.update((v=>v+1))}static#_=this.propDecorators={max:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{isSignal:!0,alias:"max",required:!1,transform:void 0}]}]}};RoundsComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"rounds",standalone:!0,imports:[_round_component__WEBPACK_IMPORTED_MODULE_0__.G],template:'\n    <div>\n      <h2 class="flex justify-center">\n        <button class="mx-10 bg-none b-none pointer" (click)="dec()"> &lt; </button>\n        Rodada {{ round() }}\n        <button class="mx-10 bg-none b-none pointer" (click)="inc()"> &gt; </button>\n      </h2>\n      <round [num]="round()" />\n    </div>\n  '})],RoundsComponent)},"./src/app/components/team.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>TeamComponent});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_services_team_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/services/team.service.ts");let TeamComponent=class TeamComponent{constructor(){this.service=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_services_team_service__WEBPACK_IMPORTED_MODULE_0__.n),this.id=_angular_core__WEBPACK_IMPORTED_MODULE_1__.input.required(),this.flag=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.input)(),this.team=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.computed)((()=>this.service.getById(this.id()))),this.flagSrc=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.computed)((()=>`/flags/${this.team()?.flag}`))}static#_=this.propDecorators={id:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{isSignal:!0,alias:"id",required:!0,transform:void 0}]}],flag:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{isSignal:!0,alias:"flag",required:!1,transform:void 0}]}]}};TeamComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"team",standalone:!0,template:'\n    <div class="flex align-center w-fixed" [style]="{ flexDirection: flag() === \'left\' ? \'row\' : \'row-reverse\'}">\n      @if (flag()) {\n        <img [src]="flagSrc()" width="20" height="20" class="mx-5" />\n      }\n      <span>{{ team()?.name }}</span>\n    </div>  \n  '})],TeamComponent)},"./src/app/services/match.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>MatchService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const matches_namespaceObject=JSON.parse('[{"teams":["int","bah"],"round":1},{"teams":["cru","bot"],"round":1},{"teams":["vit","pal"],"round":1},{"teams":["flu","rbb"],"round":1},{"teams":["vas","gre"],"round":1},{"teams":["cor","cam"],"round":1},{"teams":["sao","for"],"round":1},{"teams":["cap","cui"],"round":1},{"teams":["acg","fla"],"round":1},{"teams":["cri","juv"],"round":1},{"teams":["gre","cap"],"round":2},{"teams":["cam","cri"],"round":2},{"teams":["bah","flu"],"round":2},{"teams":["fla","sao"],"round":2},{"teams":["bot","acg"],"round":2},{"teams":["pal","int"],"round":2},{"teams":["rbb","vas"],"round":2},{"teams":["for","cru"],"round":2},{"teams":["cui","vit"],"round":2},{"teams":["juv","cor"],"round":2},{"teams":["cri","for"],"round":3},{"teams":["rbb","cor"],"round":3},{"teams":["cam","cru"],"round":3},{"teams":["vit","bah"],"round":3},{"teams":["bot","juv"],"round":3},{"teams":["flu","vas"],"round":3},{"teams":["gre","cui"],"round":3},{"teams":["pal","fla"],"round":3},{"teams":["cap","int"],"round":3},{"teams":["acg","sao"],"round":3},{"teams":["vas","cri"],"round":4},{"teams":["bah","gre"],"round":4},{"teams":["cru","vit"],"round":4},{"teams":["for","rbb"],"round":4},{"teams":["int","acg"],"round":4},{"teams":["cui","cam"],"round":4},{"teams":["fla","bot"],"round":4},{"teams":["cor","flu"],"round":4},{"teams":["juv","cap"],"round":4},{"teams":["sao","pal"],"round":4}]');let MatchService=class MatchService{constructor(){this.matches=(0,core.signal)(matches_namespaceObject)}getMatch(teamA,teamB){return this.matches().find((match=>match.teams[0]===teamA&&match.teams[1]===teamB))}getRoundMatches(round){return this.matches().filter((match=>match.round===round))}getMaxRounds(){return this.matches().reduce(((prev,curr)=>curr.round>prev?curr.round:prev),0)}updateScore(match){this.matches.update((matches=>{const idx=matches.findIndex((m=>m.teams[0]===match.teams[0]&&m.teams[1]===match.teams[1]));return[...matches.slice(0,idx),match,...matches.slice(idx+1)]}))}};MatchService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],MatchService)},"./src/app/services/team.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>TeamService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const teams_namespaceObject=JSON.parse('[{"id":"cap","name":"Athlético-PR","flag":"athletico-pr.svg"},{"id":"acg","name":"Atlético-GO","flag":"atletico-go.svg"},{"id":"cam","name":"Atlético-MG","flag":"atletico-mg.svg"},{"id":"bah","name":"Bahia","flag":"bahia.svg"},{"id":"bot","name":"Botafogo","flag":"botafogo.svg"},{"id":"rbb","name":"Bragantino","flag":"bragantino.svg"},{"id":"cor","name":"Corinthians","flag":"corinthians.svg"},{"id":"cri","name":"Criciúma","flag":"criciuma.svg"},{"id":"cru","name":"Cruzeiro","flag":"cruzeiro.svg"},{"id":"cui","name":"Cuiabá","flag":"cuiaba.svg"},{"id":"fla","name":"Flamengo","flag":"flamengo.svg"},{"id":"flu","name":"Fluminense","flag":"fluminense.svg"},{"id":"for","name":"Fortaleza","flag":"fortaleza.svg"},{"id":"gre","name":"Grêmio","flag":"gremio.svg"},{"id":"int","name":"Internacional","flag":"internacional.svg"},{"id":"juv","name":"Juventude","flag":"juventude.svg"},{"id":"pal","name":"Palmeiras","flag":"palmeiras.svg"},{"id":"sao","name":"São Paulo","flag":"sao-paulo.svg"},{"id":"vas","name":"Vasco","flag":"vasco.svg"},{"id":"vit","name":"Vitória","flag":"vitoria.svg"}]');let TeamService=class TeamService{constructor(){this.teams=teams_namespaceObject}getById(id){return this.teams?.find((t=>t.id===id))}};TeamService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],TeamService)},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":module=>{"use strict";module.exports=function(i){return i[1]}},"./src/stories/championship.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>championship_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),championship_component=__webpack_require__("./src/app/components/championship.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAuaGVhZGVyIHsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBtYXJnaW46IDA7CiAgICB9CiAgICAuY2hhbXBpb25zaGlwIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7CiAgICB9CiAg!./src/app/components/championship.component.ts"),championship_component_default=__webpack_require__.n(championship_component),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rounds_component=__webpack_require__("./src/app/components/rounds.component.ts"),ranking_component=__webpack_require__("./src/app/components/ranking.component.ts"),match_service=__webpack_require__("./src/app/services/match.service.ts");let ChampionshipComponent=class ChampionshipComponent{constructor(){this.matches=(0,core.inject)(match_service.T)}};ChampionshipComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"championship",standalone:!0,imports:[rounds_component.j,ranking_component.i],template:'\n    <h1 class="header">Brasileirão</h1>\n    <div class="championship">\n      <rounds [max]="matches.getMaxRounds()" />\n      <ranking />\n    </div>\n  ',styles:[championship_component_default()]})],ChampionshipComponent);const championship_stories={title:"Lib/Championship",component:ChampionshipComponent},Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/app/components/championship.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAuaGVhZGVyIHsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBtYXJnaW46IDA7CiAgICB9CiAgICAuY2hhbXBpb25zaGlwIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7CiAgICB9CiAg!./src/app/components/championship.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n    .header {\n      text-align: center;\n      margin: 0;\n    }\n    .championship {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-evenly;\n    }\n  ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);